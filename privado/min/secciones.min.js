function get_data_callback_secciones(){$.ajax({data:{limit:itemsPorPagina,offset:desde,estado:ver_estado_seccion},type:"POST",url:url_listar_secciones}).done(function(a,b,c){var d=a.lista;$(".table").html(""),0==pagina&&creaPaginador(a.cantidad),$.each(d,function(a,b){"Activo"==ver_estado_seccion?$('<tr id="+elem.id+"><td>'+b.nombre+'</td><td><a onclick="ver_seccion('+b.id+",'"+b.nombre+'\')" class="btn-floating green" ><i  class="material-icons">edit</i></a> <a onclick="eliminarSeccion('+b.id+",'"+b.nombre+'\')" class="btn-floating teal"><i class="material-icons">delete</i></a></td></tr>').appendTo($(".table")):$('<tr id="+elem.id+"><td>'+b.nombre+'</td><td><a onclick="activar_seccion('+b.id+",'"+b.nombre+'\')" class="btn-floating green" ><i  class="material-icons">autorenew</i></a></td></tr>').appendTo($(".table"))})}).fail(function(a,b,c){alert("Error al realizar la peticion dame".textError)})}function ver_seccion(a,b){pk_seccion=a,$("#formAgregarSeccion").hide(),$("#formModSeccion").show(),$("label").addClass("active"),$("#mod_nombre").val(b)}function eliminarSeccion(a,b){pk_seccion=a,$("#formAgregarSeccion").hide(),$("#formModSeccion").hide(),$("#formElimSeccion").show(),$("#confirmacion").text("¿Desea desactivar la sección "+b+"?"),estado_seccion="Inactivo",limpiarCampos()}function activar_seccion(a,b){pk_seccion=a,estado_seccion="Activo",$("#formActSeccion").show(),$("#formElimSeccion").hide(),$("#formModSeccion").hide(),$("#formAgregarSeccion").hide(),$("#confirmacion_activar").text("¿Desea activar la sección "+b+"?")}function seccion_init(){cargaPagina(0),$("#formAgregarSeccion").show(),$("#formModSeccion").hide(),$("#formElimSeccion").hide(),$("#formActSeccion").hide()}function limpiarCampos(){$("#nombre").val(""),$("#mod_nombre").val(""),$("label").removeClass("active")}var url_listar_secciones="/privado/php/secciones/seccionesListar.php",url_secciones="/privado/php/secciones/secciones.php",url_eliminar_seccion="/privado/php/secciones/eliminarSecciones.php",pk_seccion,estado_seccion="Inactivo",ver_estado_seccion="Activo";$(document).ready(function(){paginador=$(".pagination");var a=3,b=3;init_paginator(paginador,a,b),set_callback(get_data_callback_secciones),seccion_init()}),$("#ver_secciones_activas").click(function(a){"Activo"!=ver_estado_seccion&&(ver_estado_seccion="Activo",set_callback(get_data_callback_secciones),seccion_init())}),$("#ver_secciones_inactivas").click(function(a){"Inactivo"!=ver_estado_seccion&&(ver_estado_seccion="Inactivo",set_callback(get_data_callback_secciones),seccion_init())}),$("#agregar_seccion").click(function(a){$.post(url_secciones,{nombre:$("#nombre").val(),token:$("#dpToken").val()},function(a){switch(a){case"agregado":swal("Éxito","Sección agregada.","success"),seccion_init(),limpiarCampos();break;case"camposFalta":swal("Error",a,"error");break;default:swal("Error",a,"error")}})}),$("#modificar_seccion").click(function(a){$.post(url_secciones,{id:pk_seccion,nombre:$("#mod_nombre").val(),token:$("#dpToken").val()},function(a){switch(a){case"modificado":swal("Éxito","Sección modificada.","success"),seccion_init(),limpiarCampos();break;case"camposFalta":swal("Error",a,"info");break;case"existente":swal("Error","Sección existente.","error");break;default:swal("Error",a,"error")}})}),$("#eliminar_seccion").click(function(a){$.post(url_eliminar_seccion,{id:pk_seccion,estado:estado_seccion,token:$("#dpToken").val()},function(a){seccion_init(),swal(a)})}),$("#activar_seccion").click(function(a){$.post(url_eliminar_seccion,{id:pk_seccion,estado:estado_seccion,token:$("#dpToken").val()},function(a){seccion_init(),swal(a)})}),$("#cancelar_mod").click(function(a){limpiarCampos(),$("#formAgregarSeccion").show(),$("#formModSeccion").hide(),$("#formElimSeccion").hide()}),$("#cancelar_eliminar").click(function(a){limpiarCampos(),$("#formAgregarSeccion").show(),$("#formModSeccion").hide(),$("#formElimSeccion").hide()}),$("#cancelar_activar").click(function(a){limpiarCampos(),$("#formAgregarSeccion").show(),$("#formModSeccion").hide(),$("#formElimSeccion").hide()});