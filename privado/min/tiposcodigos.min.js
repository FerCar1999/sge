function get_data_callback_tipoCodigo(){$.ajax({data:{limit:itemsPorPagina,offset:desde,busqueda:$.trim($("input#buscar_tipoCodigo").val()),estado:ver_estado_tipoCodigo},type:"POST",url:url_listar_tipoCodigo}).done(function(a,b,c){var d=a.lista;$(".table").html(""),0==pagina&&creaPaginador(a.cantidad),$.each(d,function(a,b){"Activo"==ver_estado_tipoCodigo?$('<tr id="+elem.id+"><td>'+b.nombre+'</td><td><a onclick="ver_tipoCodigo('+b.id+",'"+b.nombre+"','"+b.descripcion+"',"+b.cantidad+","+b.escala+')" class="btn-floating green" ><i  class="material-icons">edit</i></a> <a onclick="eliminarTipoCodigo('+b.id+",'"+b.nombre+'\')" class="btn-floating green "><i class="material-icons">delete</i></a></td></tr>').appendTo($(".table")):$('<tr id="+elem.id+"><td>'+b.nombre+'</td><td><a onclick="activar_tipoCodigo('+b.id+",'"+b.nombre+'\')" class="btn-floating green" ><i  class="material-icons">autorenew</i></a></td></tr>').appendTo($(".table"))})}).fail(function(a,b,c){alert("Error al realizar la peticion dame".textError)})}function ver_tipoCodigo(a,b,c,d,e){pk_tipoCodigo=a,$("#formAgregar").hide(),$("#formMod").show(),$("label").addClass("active"),$("#mod_nombre").val(b),$("#mod_descripcion").val(c),$("#mod_cantidad").val(d),$("#mod_escala").val(e)}function eliminarTipoCodigo(a,b){pk_tipoCodigo=a,$("#formAgregar").hide(),$("#formMod").hide(),$("#formElim").show(),$("#confirmacion").text("¿Desea desactivar el tipo de código "+b+"?"),estado_tipoCodigo="Inactivo",limpiarCampos()}function activar_tipoCodigo(a,b){pk_tipoCodigo=a,estado_tipoCodigo="Activo",$("#formAct").show(),$("#formElim").hide(),$("#formMod").hide(),$("#formAgregar").hide(),$("#confirmacion_activar").text("¿Desea activar el tipo de código "+b+"?")}function tipoCodigo_init(){cargaPagina(0),$("#formAgregar").show(),$("#formMod").hide(),$("#formElim").hide(),$("#formAct").hide()}function limpiarCampos(){$("#nombre").val(""),$("#mod_nombre").val(""),$("#descripcion").val(""),$("#mod_descripcion").val(""),$("label").removeClass("active")}var url_listar_tipoCodigo="/privado/php/tiposcodigos/tiposCodigosListar.php",url_tipoCodigo="/privado/php/tiposcodigos/tiposCodigos.php",url_eliminar_tipoCodigo="/privado/php/tiposcodigos/eliminarTipoCodigos.php",pk_tipoCodigo,estado_tipoCodigo="Inactivo",ver_estado_tipoCodigo="Activo";$(document).ready(function(){paginador=$(".pagination");var a=3,b=3;init_paginator(paginador,a,b),set_callback(get_data_callback_tipoCodigo),tipoCodigo_init()}),$("#ver_tiposCodigos_activas").click(function(a){"Activo"!=ver_estado_tipoCodigo&&(ver_estado_tipoCodigo="Activo",set_callback(get_data_callback_tipoCodigo),tipoCodigo_init())}),$("#ver_tiposCodigos_inactivas").click(function(a){"Inactivo"!=ver_estado_tipoCodigo&&(ver_estado_tipoCodigo="Inactivo",set_callback(get_data_callback_tipoCodigo),tipoCodigo_init())}),$("#buscar_tipoCodigo").keyup(function(){tipoCodigo_init()}),$("#agregar").click(function(a){$.post(url_tipoCodigo,{nombre:$("#nombre").val(),descripcion:$("#descripcion").val(),cantidad:$("#cantidad").val(),escala:$("#escala").val(),token:$("#dpToken").val()},function(a){switch(a){case"agregado":swal("Éxito","Tipo de código agregado.","success"),tipoCodigo_init(),limpiarCampos();break;case"camposFalta":swal("Error",a,"info");break;default:swal("Error",a,"error")}})}),$("#modificar").click(function(a){$.post(url_tipoCodigo,{id:pk_tipoCodigo,nombre:$("#mod_nombre").val(),descripcion:$("#mod_descripcion").val(),cantidad:$("#mod_cantidad").val(),escala:$("#mod_escala").val()},function(a){switch(a){case"modificado":swal("Éxito","Tipo de código modificado.","success"),tipoCodigo_init(),limpiarCampos();break;case"camposFalta":swal("Error",a,"info");break;case"existente":swal("Error","Tipo de código existente.","error");break;default:swal("Error",a,"error")}})}),$("#eliminar").click(function(a){$.post(url_eliminar_tipoCodigo,{id:pk_tipoCodigo,estado:estado_tipoCodigo,token:$("#dpToken").val()},function(a){tipoCodigo_init(),""!=a&&swal("Éxito",a,"info")})}),$("#activar").click(function(a){$.post(url_eliminar_tipoCodigo,{id:pk_tipoCodigo,estado:estado_tipoCodigo,token:$("#dpToken").val()},function(a){tipoCodigo_init(),""!=a&&swal("Éxito",a,"info")})}),$("#cancelar_mod").click(function(a){limpiarCampos(),$("#formAgregar").show(),$("#formMod").hide(),$("#formElim").hide(),$("#formAct").hide()}),$("#cancelar_eliminar").click(function(a){limpiarCampos(),$("#formAgregar").show(),$("#formMod").hide(),$("#formElim").hide(),$("#formAct").hide()}),$("#cancelar_activar").click(function(a){limpiarCampos(),$("#formAgregar").show(),$("#formMod").hide(),$("#formElim").hide(),$("#formAct").hide()});