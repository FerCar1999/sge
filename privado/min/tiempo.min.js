function get_data_callback_tiempo(){$.ajax({data:{limit:itemsPorPagina,offset:desde,busqueda:$.trim($("input#buscar_tiempo").val()),estado:ver_estado_tiempo},type:"POST",url:url_listar_tiempo}).done(function(a,b,c){var d=a.lista;$(".table").html(""),0==pagina&&creaPaginador(a.cantidad),$.each(d,function(a,b){"Activo"==ver_estado_tiempo?$('<tr id="+elem.id+"><td>'+b.horaInicio+"</td><td>"+b.horaFin+'</td><td><a onclick="ver_tiempo('+b.id+",'"+b.horaInicio+"','"+b.horaFin+'\')" class="btn-floating green" ><i  class="material-icons">edit</i></a> <a onclick="eliminarTiempo('+b.id+",'"+b.horaInicio+"','"+b.horaFin+'\')" class="btn-floating green"><i class="material-icons">delete</i></a></td></tr>').appendTo($(".table")):$('<tr id="+elem.id+"><td>'+b.horaInicio+"</td><td>"+b.horaFin+'</td><td><a onclick="activar_tiempo('+b.id+",'"+b.horaInicio+"','"+b.horaFin+'\')" class="btn-floating green" ><i  class="material-icons">autorenew</i></a></td></tr>').appendTo($(".table"))})}).fail(function(a,b,c){alert("Error al realizar la peticion dame".textError)})}function ver_tiempo(a,b,c){pk_tiempo=a,$("#formAgregarTiempo").hide(),$("#formModTiempo").show(),$("label").addClass("active"),$("#mod_horaInicio").val(b),$("#mod_horaFin").val(c)}function eliminarTiempo(a,b,c){pk_tiempo=a,$("#formAgregarTiempo").hide(),$("#formModTiempo").hide(),$("#formElimTiempo").show(),$("#confirmacion").text("¿Desea desactivar el tiempo de "+b+" a "+c+"?"),estado_tiempo="Inactivo",limpiarCampos()}function activar_tiempo(a,b,c){pk_tiempo=a,estado_tiempo="Activo",$("#formActTiempo").show(),$("#formElimTiempo").hide(),$("#formModTiempo").hide(),$("#formAgregarTiempo").hide(),$("#confirmacion_activar").text("¿Desea activar el tiempo de "+b+" a "+c+"?"),horaFinAct=b,horaFinAct=c}function tiempo_init(){cargaPagina(0),$("#formAgregarTiempo").show(),$("#formModTiempo").hide(),$("#formElimTiempo").hide(),$("#formActTiempo").hide()}function limpiarCampos(){$("#buscar_tiempo").val(""),$("#horaInicio").val(""),$("#mod_horaInicio").val(""),$("#horaFin").val(""),$("#mod_horaFin").val(""),$("label").removeClass("active")}$(".timepicker").pickatime({default:"now",twelvehour:!1,donetext:"Aceptar",autoclose:!1,vibrate:!0,darktheme:!0});var url_listar_tiempo="/privado/php/tiempos/tiemposListar.php",url_tiempo="/privado/php/tiempos/tiempos.php",url_eliminar_tiempo="/privado/php/tiempos/eliminarTiempo.php",pk_tiempo,estado_tiempo="Inactivo",ver_estado_tiempo="Activo",horaInicioAct="",horaFinAct="";$(document).ready(function(){paginador=$(".pagination");var a=5,b=3;init_paginator(paginador,a,b),set_callback(get_data_callback_tiempo),tiempo_init()}),$("#ver_tiempos_activos").click(function(a){"Activo"!=ver_estado_tiempo&&(ver_estado_tiempo="Activo",set_callback(get_data_callback_tiempo),tiempo_init())}),$("#ver_tiempos_inactivos").click(function(a){"Inactivo"!=ver_estado_tiempo&&(ver_estado_tiempo="Inactivo",set_callback(get_data_callback_tiempo),tiempo_init())}),$("#buscar_tiempo").keyup(function(){tiempo_init()}),$("#agregar_tiempo").click(function(a){$.post(url_tiempo,{horaInicio:$("#horaInicio").val(),horaFin:$("#horaFin").val(),token:$("#dpToken").val()},function(a){switch(a){case"agregado":swal("Éxito","Tiempo agregado.","success"),tiempo_init(),limpiarCampos();break;case"camposFalta":swal("Error",a,"info");break;default:swal("Error",a,"error")}})}),$("#modificar_tiempo").click(function(a){$.post(url_tiempo,{id:pk_tiempo,horaInicio:$("#mod_horaInicio").val(),horaFin:$("#mod_horaFin").val(),token:$("#dpToken").val()},function(a){switch(a){case"modificado":swal("Éxito","Tiempo modificado.","success"),tiempo_init(),limpiarCampos();break;case"camposFalta":swal("Error",a,"info");break;case"existente":swal("Error","Tiempo existente.","error");break;default:swal("Error",a,"error")}})}),$("#eliminar_tiempo").click(function(a){$.post(url_eliminar_tiempo,{id:pk_tiempo,estado:estado_tiempo,token:$("#dpToken").val()},function(a){tiempo_init(),swal(a)})}),$("#activar_tiempo").click(function(a){$.post(url_eliminar_tiempo,{id:pk_tiempo,estado:estado_tiempo,horaInicio:horaInicioAct,horaFin:horaFinAct,token:$("#dpToken").val()},function(a){tiempo_init(),swal(a)})}),$("#cancelar_mod").click(function(a){limpiarCampos(),$("#formAgregarTiempo").show(),$("#formModTiempo").hide(),$("#formElimTiempo").hide(),$("#formActTiempo").hide()}),$("#cancelar_eliminar").click(function(a){limpiarCampos(),$("#formAgregarTiempo").show(),$("#formModTiempo").hide(),$("#formElimTiempo").hide(),$("#formActTiempo").hide()}),$("#cancelar_activar").click(function(a){limpiarCampos(),$("#formAgregarTiempo").show(),$("#formModTiempo").hide(),$("#formElimTiempo").hide(),$("#formActTiempo").hide()});