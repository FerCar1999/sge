function get_data_callback_grados(){$.ajax({data:{limit:itemsPorPagina,offset:desde,busqueda:$.trim($("input#buscar_grado").val()),estado:ver_estado_grado},type:"POST",url:url_listar_grados}).done(function(a,b,c){var d=a.lista;$(".table").html(""),0==pagina&&creaPaginador(a.cantidad),$.each(d,function(a,b){"Activo"==ver_estado_grado?$('<tr id="+elem.id+"><td>'+b.nombre+'</td><td><a onclick="ver_grado('+b.id+",'"+b.nombre+"',"+b.nivel+')" class="btn-floating green" ><i  class="material-icons">edit</i></a> <a onclick="eliminarGrado('+b.id+",'"+b.nombre+'\')" class="btn-floating green"><i class="material-icons">delete</i></a></td></tr>').appendTo($(".table")):$('<tr id="+elem.id+"><td>'+b.nombre+'</td><td><a onclick="activar_grado('+b.id+",'"+b.nombre+'\')" class="btn-floating green" ><i  class="material-icons">autorenew</i></a></td></tr>').appendTo($(".table"))})}).fail(function(a,b,c){alert("Error al realizar la peticion dame".textError)})}function ver_grado(a,b,c){pk_grado=a,$("#formAgregarGrado").hide(),$("#formModGrado").show(),$("label").addClass("active"),$("#mod_nombre").val(b),$("#selectNivelMod").find('option[value="'+c+'"]').prop("selected",!0),$("#selectNivelMod").material_select()}function eliminarGrado(a,b,c){pk_grado=a,$("#formAgregarGrado").hide(),$("#formModGrado").hide(),$("#formElimGrado").show(),$("#confirmacion").text("¿Desea desactivar el grado "+b+"?"),estado_grado="Inactivo",limpiarCampos()}function activar_grado(a,b,c){pk_grado=a,estado_grado="Activo",$("#formActGrado").show(),$("#formElimGrado").hide(),$("#formModGrado").hide(),$("#formAgregarGrado").hide(),$("#confirmacion_activar").text("¿Desea activar el grado "+b+"?")}function grados_init(){cargaPagina(0),$("#formAgregarGrado").show(),$("#formModGrado").hide(),$("#formElimGrado").hide(),$("#formActGrado").hide()}function limpiarCampos(){$("#nombre").val(""),$("label").removeClass("active"),$("#mod_nombre").val("")}var url_listar_grados="/privado/php/grados/gradosListar.php",url_grados="/privado/php/grados/grados.php",url_eliminar_grados="/privado/php/grados/eliminarGrados.php",pk_grado,estado_grado="Inactivo",ver_estado_grado="Activo";$(document).ready(function(){paginador=$(".pagination");var a=3,b=3;init_paginator(paginador,a,b),set_callback(get_data_callback_grados),grados_init(),$("select").material_select()}),$("#buscar_grado").keyup(function(){grados_init()}),$("#ver_grados_activos").click(function(a){"Activo"!=ver_estado_grado&&(ver_estado_grado="Activo",set_callback(get_data_callback_grados),grados_init())}),$("#ver_grados_inactivos").click(function(a){"Inactivo"!=ver_estado_grado&&(ver_estado_grado="Inactivo",set_callback(get_data_callback_grados),grados_init())}),$("#agregar_grado").click(function(a){$.post(url_grados,{nombre:$("#nombre").val(),nivel:$("#selectNivel").val(),token:$("#dpToken").val()},function(a){switch(a){case"agregado":swal("Éxito","Grado agregado.","success"),grados_init(),limpiarCampos();break;case"camposFalta":swal("Error",a,"error");break;default:swal("Error",a,"error")}})}),$("#modificar_grado").click(function(a){$.post(url_grados,{id:pk_grado,nombre:$("#mod_nombre").val(),nivel:$("#selectNivelMod").val(),token:$("#dpToken").val()},function(a){switch(a){case"modificado":swal("Éxito","Grado modificado.","success"),grados_init(),limpiarCampos();break;case"camposFalta":swal("Error",a,"info");break;case"existente":swal("Error","Grado existente.","error");break;default:swal("Error",a,"error")}})}),$("#eliminar_grado").click(function(a){$.post(url_eliminar_grados,{id:pk_grado,estado:estado_grado,token:$("#dpToken").val()},function(a){grados_init(),swal(a)})}),$("#activar_grado").click(function(a){$.post(url_eliminar_grados,{id:pk_grado,estado:estado_grado,token:$("#dpToken").val()},function(a){grados_init(),swal(a)})}),$("#cancelar_mod").click(function(a){limpiarCampos(),$("#formAgregarGrado").show(),$("#formModGrado").hide(),$("#formElimGrado").hide()}),$("#cancelar_eliminar").click(function(a){limpiarCampos(),$("#formAgregarGrado").show(),$("#formModGrado").hide(),$("#formElimGrado").hide()}),$("#cancelar_activar").click(function(a){limpiarCampos(),$("#formAgregarGrado").show(),$("#formModGrado").hide(),$("#formElimGrado").hide()});