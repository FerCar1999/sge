function get_data_callback_codigo(){$.ajax({data:{limit:itemsPorPagina,busqueda:$.trim($("input#buscar_codigo").val()),offset:desde,estado:ver_estado_codigo},type:"POST",url:url_listar_codigos}).done(function(a,b,c){var d=a.lista;$(".table").html(""),0==pagina&&creaPaginador(a.cantidad),$.each(d,function(a,b){"Activo"==ver_estado_codigo?$('<tr id="+elem.id+"><td>'+b.nombre+"</td><td>"+b.nombreTipoCodigo+'</td><td><a onclick="ver_codigo('+b.id+",'"+b.nombre+"','"+b.descripcion+"',"+b.idTipoCodigo+')" class="btn-floating green" ><i  class="material-icons">edit</i></a> <a onclick="eliminar_codigo('+b.id+",'"+b.nombre+'\')" class="btn-floating green"><i class="material-icons">delete</i></a></td></tr>').appendTo($(".table")):$('<tr id="+elem.id+"><td>'+b.nombre+"</td><td>"+b.nombreTipoCodigo+'</td><td><a onclick="activar_codigo('+b.id+",'"+b.nombre+'\')" class="btn-floating green" ><i  class="material-icons">autorenew</i></a></td></tr>').appendTo($(".table"))})}).fail(function(a,b,c){alert("Error al realizar la peticion dame".textError)})}function ver_codigo(a,b,c,d){pk_codigo=a,$("#formAgregarCodigos").hide(),$("#formModCodigos").show(),$("#formElimCodigos").hide(),$("#formActCodigos").hide(),$("label").addClass("active"),$("#mod_nombre").val(b),$("#mod_descripcion").val(c),$("#selectTipoCodigoMod").find('option[value="'+d+'"]').prop("selected",!0),$("#selectTipoCodigoMod").material_select()}function eliminar_codigo(a,b){pk_codigo=a,$("#formElimCodigos").show(),$("#formActCodigos").hide(),$("#formModCodigos").hide(),$("#formAgregarCodigos").hide(),$("#confirmacion").text("¿Desea desactivar el código "+b+" ?"),estado_codigo="Inactivo"}function activar_codigo(a,b){pk_codigo=a,$("#formActCodigos").show(),$("#formElimCodigos").hide(),$("#formModCodigos").hide(),$("#formAgregarCodigos").hide(),estado_codigo="Activo",$("#confirmacion_activar").text("¿Desea activar el código "+b+" ?")}function codigos_init(){cargaPagina(0),$("#formElimCodigos").hide(),$("#formModCodigos").hide(),$("#formActCodigos").hide(),$("#formAgregarCodigos").show()}function limpiarCampos(){$("#nombre").val(""),$("#descripcion").val(""),$("label").removeClass("active"),$("input").removeClass("valid"),$("input").removeClass("invalid"),$("#mod_nombre").val(""),$("#mod_descripcion").val("")}var url_listar_codigos="/privado/php/codigos/codigosListar.php",url_codigos="/privado/php/codigos/codigos.php",url_eliminar_codigos="/privado/php/codigos/eliminarCodigos.php",pk_codigo,estado_codigo="Inactivo",ver_estado_codigo="Activo";$(document).ready(function(){paginador=$(".pagination");var a=10,b=3;init_paginator(paginador,a,b),set_callback(get_data_callback_codigo),codigos_init(),$("select").material_select()}),$("#ver_codigos_activos").click(function(a){"Activo"!=ver_estado_codigo&&(ver_estado_codigo="Activo",set_callback(get_data_callback_codigo),codigos_init())}),$("#ver_codigos_inactivos").click(function(a){"Inactivo"!=ver_estado_codigo&&(ver_estado_codigo="Inactivo",set_callback(get_data_callback_codigo),codigos_init())}),$("#buscar_codigo").keyup(function(){codigos_init()}),$("#agregar_codigo").click(function(a){$.post(url_codigos,{nombre:$("#nombre").val(),descripcion:$("#descripcion").val(),token:$("#dpToken").val(),idTipoCodigo:$("#selectTipoCodigo").val()},function(a){switch(a){case"agregado":swal("Éxito","Código agregado.","success"),codigos_init(),limpiarCampos();break;case"camposFalta":swal("Error",a,"info");break;default:swal("Error",a,"error")}})}),$("#modificar_codigo").click(function(a){$.post(url_codigos,{id:pk_codigo,nombre:$("#mod_nombre").val(),token:$("#dpToken").val(),descripcion:$("#mod_descripcion").val(),idTipoCodigo:$("#selectTipoCodigoMod").val()},function(a){switch(a){case"modificado":swal("Éxito","Código modificado.","success"),codigos_init(),limpiarCampos();break;case"camposFalta":swal("Error",a,"info");break;case"existente":swal("Error","Código existente.","error");break;default:swal("Error",a,"error")}})}),$("#eliminar_codigo").click(function(a){$.post(url_eliminar_codigos,{id:pk_codigo,estado:estado_codigo,token:$("#dpToken").val()},function(a){""!=a&&(codigos_init(),swal("",a,"info"))})}),$("#activar_codigo").click(function(a){$.post(url_eliminar_codigos,{id:pk_codigo,estado:estado_codigo,token:$("#dpToken").val()},function(a){""!=a&&(codigos_init(),swal("",a,"info"))})}),$("#cancelar_mod").click(function(a){limpiarCampos(),$("#formAgregarCodigos").show(),$("#formModCodigos").hide(),$("#formElimCodigos").hide(),$("#formActCodigos").hide()}),$("#cancelar_eliminar").click(function(a){limpiarCampos(),$("#formAgregarCodigos").show(),$("#formModCodigos").hide(),$("#formElimCodigos").hide(),$("#formActCodigos").hide()}),$("#cancelar_activar").click(function(a){limpiarCampos(),$("#formAgregarCodigos").show(),$("#formModCodigos").hide(),$("#formElimCodigos").hide(),$("#formActCodigos").hide()});