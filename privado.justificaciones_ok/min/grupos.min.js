function get_data_callback_grupos(){$.ajax({data:{limit:itemsPorPagina,offset:desde,estado:ver_estado_grupo,tipo:tipoListar},type:"POST",url:url_listar_grupos}).done(function(a,b,c){var d=a.lista;$(".table").html(""),0==pagina&&creaPaginador(a.cantidad),$.each(d,function(a,b){"Activo"==ver_estado_grupo?$('<tr id="+elem.id+"><td>'+b.nombre+'</td><td><a onclick="ver_grupo('+b.id+",'"+b.nombre+"',"+tipoListar+')" class="btn-floating green" ><i  class="material-icons">edit</i></a> <a onclick="eliminarGrupo('+b.id+",'"+b.nombre+"',"+tipoListar+')" class="btn-floating green"><i class="material-icons">delete</i></a></td></tr>').appendTo($(".table")):$('<tr id="+elem.id+"><td>'+b.nombre+'</td><td><a onclick="activar_grupo('+b.id+",'"+b.nombre+"',"+tipoListar+')" class="btn-floating green" ><i  class="material-icons">autorenew</i></a></td></tr>').appendTo($(".table"))})}).fail(function(a,b,c){alert("Error al realizar la peticion dame".textError)})}function ver_grupo(a,b,c){pk_grupo=a,tipoGrupo=c,$("#formAgregarGrupo").hide(),$("#formModGrupo").show(),$("label").addClass("active"),$("#mod_nombre").val(b)}function eliminarGrupo(a,b,c){pk_grupo=a,tipoGrupo=c,$("#formAgregarGrupo").hide(),$("#formModGrupo").hide(),$("#formElimGrupo").show(),1==c&&$("#confirmacion").text("¿Desea desactivar el grupo académico "+b+"?"),2==c&&$("#confirmacion").text("¿Desea desactivar el grupo ténico "+b+"?"),estado_grupo="Inactivo",limpiarCampos()}function activar_grupo(a,b,c){pk_grupo=a,estado_grupo="Activo",tipoGrupo=c,$("#formActGrupo").show(),$("#formElimGrupo").hide(),$("#formModGrupo").hide(),$("#formAgregarGrupo").hide(),1==tipoGrupo&&$("#confirmacion_activar").text("¿Desea activar el grupo académico "+b+"?"),2==tipoGrupo&&$("#confirmacion_activar").text("¿Desea activar el grupo ténico "+b+"?")}function grupos_init(){cargaPagina(0),$("#formAgregarGrupo").show(),$("#formModGrupo").hide(),$("#formElimGrupo").hide(),$("#formActGrupo").hide()}function limpiarCampos(){$("#nombre").val(""),$("label").removeClass("active"),$("#mod_nombre").val(""),$("input[name='grupos']:checked").prop("checked",!1)}var url_listar_grupos="/privado/php/grupos/gruposListar.php",url_grupos="/privado/php/grupos/grupos.php",url_eliminar_grupos="/privado/php/grupos/eliminarGrupo.php",pk_grupo,tipoGrupo,tipoListar=1,estado_grupo="Inactivo",foto_antigua,ver_estado_grupo="Activo";$(document).ready(function(){paginador=$(".pagination");var a=3,b=3;init_paginator(paginador,a,b),set_callback(get_data_callback_grupos),grupos_init()}),$("#listarAcademicos").click(function(a){tipoListar=1,paginador=$(".pagination"),$("#nombreTipo").text("Nombre del grupo");var b=2,c=3;init_paginator(paginador,b,c),set_callback(get_data_callback_grupos),grupos_init()}),$("#listarTecnicos").click(function(a){tipoListar=2,$("#nombreTipo").text("Nombre del grupo"),paginador=$(".pagination");var b=2,c=3;init_paginator(paginador,b,c),set_callback(get_data_callback_grupos),grupos_init()}),$("#ver_grupos_activos").click(function(a){"Activo"!=ver_estado_grupo&&(ver_estado_grupo="Activo",set_callback(get_data_callback_grupos),grupos_init())}),$("#ver_grupos_inactivos").click(function(a){"Inactivo"!=ver_estado_grupo&&(ver_estado_grupo="Inactivo",set_callback(get_data_callback_grupos),grupos_init())}),$("#agregar_grupo").click(function(a){$.post(url_grupos,{nombre:$("#nombre").val(),grupoTipo:$("input[name='grupos']:checked").val(),token:$("#dpToken").val()},function(a){switch(a){case"agregado":swal("Éxito","Grupo agregado.","success"),grupos_init(),limpiarCampos();break;case"camposFalta":swal("Error",a,"error");break;default:swal("Error",a,"error")}})}),$("#modificar_grupo").click(function(a){$.post(url_grupos,{id:pk_grupo,nombre:$("#mod_nombre").val(),grupoTipo:tipoGrupo,token:$("#dpToken").val()},function(a){switch(a){case"modificado":swal("Éxito","Grupo modificado.","success"),grupos_init(),limpiarCampos();break;case"camposFalta":swal("Error",a,"info");break;case"existente":swal("Error","Grupo existente.","error");break;default:swal("Error",a,"error")}})}),$("#eliminar_grupo").click(function(a){$.post(url_eliminar_grupos,{id:pk_grupo,estado:estado_grupo,grupoTipo:tipoGrupo,token:$("#dpToken").val()},function(a){grupos_init(),swal(a)})}),$("#activar_grupo").click(function(a){$.post(url_eliminar_grupos,{id:pk_grupo,estado:estado_grupo,grupoTipo:tipoGrupo,token:$("#dpToken").val()},function(a){grupos_init(),swal(a)})}),$("#cancelar_mod").click(function(a){limpiarCampos(),$("#formAgregarGrupo").show(),$("#formModGrupo").hide(),$("#formElimGrupo").hide()}),$("#cancelar_eliminar").click(function(a){limpiarCampos(),$("#formAgregarGrupo").show(),$("#formModGrupo").hide(),$("#formElimGrupo").hide()}),$("#cancelar_activar").click(function(a){limpiarCampos(),$("#formAgregarGrupo").show(),$("#formModGrupo").hide(),$("#formElimGrupo").hide()});